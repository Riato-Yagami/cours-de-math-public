% VARIABLES %%%
\def\theme{Périmètres, aires, volumes}
% \def\date{date}
%%%%%%%%%%%%%%%

% DEFINITIONS %
\def\md{\ensuremath{\meter^2}}
\def\mt{\ensuremath{\meter^3}}
\def\Lt{\ensuremath{\liter}}

\def\Per{\ensuremath{\mathcal{P}}}
\def\A{\ensuremath{\mathcal{A}}}
\def\V{\ensuremath{\mathcal{V}}}
\def\B{\ensuremath{\mathcal{B}}}
\def\C{\ensuremath{\mathcal{C}}}

\def\u{\vect{u}}
\def\v{\vect{v}}

\def\cbmath{\href{https://docplayer.fr/210413521-Lecon-n-o-18-perimetres-aires-volumes-capes-session-cbmaths-cbmaths-fr-derniere-mise-a-jour-2-avril-2021.html}{CBMaths.fr}}
\def\jean{\href{https://www.mathenjeans.fr/sites/default/files/comptes-rendus/polygones_-_saint_dominique_nancy.pdf}{mathenjeans.fr}}

\newcommand{\drawArea}[1][blue]{\fill[fill = #1, opacity = 0.2]}
%%%%%%%%%%%%%%

\setboolean{subsectionInOutline}{true}
% \setboolean{outline}{true}
% \setboolean{demonstration}{false}

% \setboolean{showRef}{false}

\hbox{}
\leconInfo{
    \ilink{Cycle 3}
    \ilink{Cycle 4}
    \ilink{Terminale Option Spécialité}
    \ilink{Terminale Option Complémentaire}
    \ilink{Terminale Technologique}
} % Niveaux
[\item mesures de longueurs
\item transformation géométrique
\item continuité] % Prérequis
[] % Thèmes
[] % Motivation

\section{Mesures du plan}

\subsection{Périmètre}

\df{Perimètre}{
    Le \textbf{périmètre} (\Per) d'une figure est la longueur de son contour.
}

\pr{Perimètre du polygone}{
    Le périmètre d'un polygone est la somme des longueur de ses côtés
}

\rmk{Unité de longueur}{
    Le périmètre se mesure en unité de longueur,
    de maniere usuelle en mètre (\meter).\\
    Deux unités de longueur consécutives sont 10 fois plus grande ou plus petite les unes par rapport aux autres.
}

\pr{Perimètre de polygones particuliers}{
    \begin{itemize}[wide=0pt, leftmargin=*]
        \item Carré ou losange de côté $c$: $\Per = 4c$
        \item Rectangle de longueur $L$ et largeur $l$: $\Per = 2L +2l$
        \item Triangle équilatéral de côté $c$: $\Per = 3c$
    \end{itemize}
}

\subsection{Découpages et recollements}

\df{Aire}{
    L'\textbf{aire} (\A) d'une figure est la mesure de sa surface.
}

\pr{Isométrie}{
    Le périmètre et l'aire sont invariants par isométrie.
}

\pr{Homothétie}{
    Pour une homothétie de rapport $k$, les périmètres sont multiplié par $|k|$,
    et les aires par $k^2$.
}

\pr{Additivité des aires}{
    L'aire de l'union des surface $A$ et $B$ disjointes, est égale à la somme de leurs aires.
}

\df{Comparaison d'aire}{
    On dit que deux figure ont des aires équivalentes si en découpant l'une d'entre elle,
    on peut recomposer l'autre.
}[\cbmath]

\pr{Découpage de polygone}{
    On peut toujours découper un polygone en triangles.
}

\demo{}{
    \def\polygone{
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(1,2){B}
        \tkzDefPoint(1.5,2){C}
        \tkzDefPoint(1.9,1.5){D}
        \tkzDefPoint(2.6,3){E}
        \tkzDefPoint(3,2){F}
        \tkzDefPoint(3,1){G}
        \tkzDefPoint(2,-1){H}
        \draw[blue , thick] (D)--(H);
    }
    \dividePage{On le découper en polygones convexes.
        \begin{center}
            \begin{tikzpicture}
                \polygone
                \draw[very thick] (A)--(B)--(C)--(D)--(E)--(F)--(G)--(H)--cycle;
            \end{tikzpicture}
        \end{center}
    }{Puis on choisit un sommet dans chaque partie convexe et on le relie aux autres.
        \begin{center}
            \begin{tikzpicture}
                \polygone
                \draw[red , thick] (A)--(C);
                \draw[red , thick] (A)--(D);
                \draw[red , thick] (E)--(G);
                \draw[red , thick] (E)--(H);
                \draw[very thick] (A)--(B)--(C)--(D)--(E)--(F)--(G)--(H)--cycle;
            \end{tikzpicture}
        \end{center}
    }
}[\jean]

\pr{Découpage et recollage de triangle en rectangle}{
    On peut toujours découper et recoller un triangle quelconque pour trouver un rectangle de même aire.
}

\demo{Cas sans angle optus}{
    \def\triangle{
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(6,0){B}
        \tkzDefPoint(1.5,3){C}
        \tkzDefLine[perpendicular=through C](A,B) \tkzGetPoint{c} % Définir un point pour la direction de la ligne
        \tkzInterLL(C,c)(A,B) \tkzGetPoint{H} % Intersection de la ligne avec AB
        \draw[thick] (C)--(H);
        \tkzLabelPoints[below](H)
        % Médiatrice CH
        \tkzDefLine[mediator](C,H) \tkzGetPoint{f}
        \tkzDefLine[mediator](H,C) \tkzGetPoint{o}
        \tkzInterLL(o,f)(A,C) \tkzGetPoint{O}
        \tkzInterLL(o,f)(B,C) \tkzGetPoint{F}
        \draw[thick] (O)--(F);
        % \tkzLabelPoints[above left](O)
        % \tkzLabelPoints[above right](F)
        \tkzInterLL(O,F)(C,H) \tkzGetPoint{I}
        \tkzLabelPoints[below right](I)
        % Mark
        \tkzMarkRightAngle[blue](A,H,C)
        \tkzMarkRightAngle[blue](O,I,H)
        \draw[very thick] (A)--(B)--(C)--cycle;
        \tkzMarkSegment[blue,pos=.5,mark=|](C,I)
        \tkzMarkSegment[blue,pos=.5,mark=|](H,I)
    }
    \dividePage{
        \begin{center}
            \begin{tikzpicture}[scale=1]
                \triangle
            \end{tikzpicture}
        \end{center}
    }{
        \begin{center}
            \begin{tikzpicture}[scale=1]
                \triangle
                % D et E
                \tkzDefLine[perpendicular=through A](O,F) \tkzGetPoint{d}
                \tkzInterLL(d,A)(O,F) \tkzGetPoint{D}
                \tkzDefLine[perpendicular=through B](O,F) \tkzGetPoint{e}\tkzLabelPoints[below right](I)
                \tkzInterLL(e,B)(O,F) \tkzGetPoint{E}
                % \tkzLabelPoints[right](E)
                % \tkzLabelPoints[left](D)
                \draw[thick] (E)--(D);
                % Trianlges
                \drawArea[red] (A)--(D)--(O)--cycle;
                \drawArea[red] (C)--(I)--(O)--cycle;
                \drawArea (B)--(E)--(F)--cycle;
                \drawArea (C)--(I)--(F)--cycle;
            \end{tikzpicture}
        \end{center}
    }
}[\jean]

\demo{Cas avec un angle optus}{
    \def\h{3}
    \def\b{5}
    \def\defPoints{%
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(\b,0){B}
        \tkzDefPoint(-1.5,\h){C}
        \tkzDefLine[perpendicular=through C](A,B) \tkzGetPoint{c}
        \tkzInterLL(C,c)(A,B) \tkzGetPoint{H}
        \tkzDefPoint(\b,\h){E}
    }
    \dividePage{
        \ctikz{
            \defPoints
            \tkzMarkRightAngle[blue](C,H,A)
            \draw[pattern={north east lines}, pattern color = red, opacity = 0.7] (A) -- (B) -- (C) -- cycle;
            \drawArea (H) -- (B) -- (C);
            \drawArea[red] (E) -- (B) -- (C);
            \draw[very thick] (A) -- (B) -- (C) -- cycle;
            \draw[dashed, thick] (C) -- (H);
            \draw[dotted, thick] (H) -- (B) -- (E) -- (C);
        }
    }{
        \ctikz{
            \defPoints
            \tkzDefPoint(0,\h){D}
            \draw[thick] (A) -- (B) -- (C) -- cycle;
            \drawArea (C) -- (D) -- (A);
            \drawArea[red] (H) -- (C) -- (A);
            \draw[dotted, thick] (H) -- (A);
            \draw[dotted, thick] (C) -- (D);
            \draw[dashed, thick] (C) -- (H);
            \draw[very thick, pattern={north east lines}, pattern color = red, opacity = 0.7] (A) -- (D) -- (E) -- (B) -- cycle;
        }
    } 
}[\href{http://www.debart.fr/college/aire_triangle.html}{debart.fr}]

\pr{Découpage et recollage de rectangle à un carré de même aire}{
    Pour un rectangle de longueur $l$ et largeur $L$.\\
    Si $l \geqslant \frac{\sqrt{lL}}{2}$ alors on peut découper et recoller le rectangle pour trouver un carré de même aire.
}

\demo{}{
    \def\lenght{6}
    \def\width{2}
    \def\defRect{%
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(0,\width){B}
        \tkzDefPoint(\lenght,\width){C}
        \tkzDefPoint(\lenght,0){D}
    }
    \def\drawRect{\draw[very thick] (A)--(B)--(C)--(D)--cycle;}
    \begin{center}
        \begin{tikzpicture}
            \defRect
            \tkzDefPoint(-\width,0){E}
            \tkzDefMidPoint(E,D) \tkzGetPoint{F}
            \draw[dashed, very thick] (A)--(E);
            \drawRect
            \tkzDrawPoints(F)
            \tkzDrawPoints(E)
            % \tkzCalcLength(F,E) \tkzGetLength{rayon}
            % \tkzDefCircle[R](F,\rayon)
            \tkzInterLC(A,B)(F,E) \tkzGetPoints{G}{H}
            \tkzDrawPoint(G)
            % \draw[dashed, very thick] (B)--(G);
            \tkzDrawCircle[very thick, dotted](F,E)
            \tkzCalcLength(A,G) \tkzGetLength{cote}
            \tkzDefPoint(\cote,0){H}
            \tkzDefPoint(\cote,\cote){I}
            \tkzInterLL(G,D)(B,C) \tkzGetPoint{X}
            \tkzInterLL(G,D)(I,H) \tkzGetPoint{Y}
            \draw[red, thick] (A)--(G)--(I)--(H)--cycle;
            \tkzMarkSegment[blue,pos=.5,mark=|](A,E)
            \tkzMarkSegment[blue,pos=.5,mark=|](A,B)
            \draw[dashed] (G)--(D);
            \drawArea (G)--(I)--(Y)--cycle;
            \drawArea (D)--(C)--(X)--cycle;
            \drawArea[red] (G)--(B)--(X)--cycle;
            \drawArea[red] (D)--(H)--(Y)--cycle;
            % \draw[dotted] (F) circle(\rayon);
        \end{tikzpicture}
    \end{center}
}[\href{https://www.mathenjeans.fr/sites/default/files/comptes-rendus/recollons_les_morceaux_guy_moquet_chateaubriant_2013.pdf}{BOUDET Corentin, TRIMOREAU Vincent, PARIS Nicolas}]

% \href{https://wimsauto.universite-paris-saclay.fr/wims/wims.cgi?session=8W0948C5F7.2&+lang=fr&+module=U1\%2Fgeometry\%2Fdocbolyai.fr&+cmd=reply&+job=read&+doc=1&+block=rectanglecarre2}{Université Paris-Saclay}

\rmk{Encadrer les aires}{
    Pour beaucoup de figure non-polygonal il ne sera pas possible de procéder par découpages et recollements.
    On procédera alors à des encadrements d'aires.
}

\subsection{Mesures d'aires}

\df{Unité d'aire}{
    L'unité d'aire usuelle est le mètre carré (\md).\\
    1 \md{} correspond à la mesure de surface d'un carré de côté 1 \meter.
}

\rmk{Mesure d'aire}{
    On mesure l'aire en comparaison au \md.
}

\rmk{Unités d'aire consécutives}{
    Deux unités d'aire consécutives sont 100 fois plus grande ou petites les unes par rapport aux autres.
}

\subsection{Formules d'aires}

\pr{Aire du carré et du rectangle}{
    \begin{itemize}[wide=0pt, leftmargin=*]
        \item Carré de côté $c$ : $\A = c^2$.
        \item Rectangle de longueur $L$ et largeur $l$ : $\A = lL$.
    \end{itemize}
}

\pr{Triangles ou parallèlogramme de même base et hauteur}{
    Deux triangles et parallèlogramme de même bases et hauteurs ont la même aires.
}

\demo{}{
    \begin{center}
        \def\b{5}
        \def\h{3}
        \def\xs{5}
        \def\ys{-2.5}
        \begin{tikzpicture}
            % Premier parallélogramme
            \tkzDefPoint(0,0){A}
            \tkzDefPoint(\xs,\h){B}
            \tkzDefPoint(\b+\xs,\h){C}
            \tkzDefPoint(\b,0){D}
            % Deuxième parallélogramm
            \tkzDefPoint(0,0){E}
            \tkzDefPoint(\ys,\h){F}
            \tkzDefPoint(\b+\ys,\h){G}
            \tkzDefPoint(\b,0){H}
            \drawArea (A) -- (B) -- (F) -- cycle;
            \drawArea (C) -- (D) -- (G) -- cycle;
            \draw[thick, dashed] (A) -- (B) -- (C) -- (D) -- cycle;
            \draw[very thick] (E) -- (F) -- (G) -- (H) -- cycle;
        \end{tikzpicture}
    \end{center}
}

\pr{Aire du triangle et du parallèlogramme}{
    \begin{itemize}[wide=0pt, leftmargin=*]
        \item Triangle de base $b$ et hauteur $h$ : $\A = \frac{b \times h}{2}$.
        \item Parallèlogramme de base $b$ et hauteur $h$ : $\A = b \times h$.
    \end{itemize}
}

\demo{}{
    \dividePage{
        \ctikz{
            % \usetikzlibrary {patterns,patterns.meta}
            \def\b{5}
            \def\h{3}
            % Définir les points du triangle
            \tkzDefPoint(0,0){A}
            \tkzDefPoint(\b,0){B}
            \tkzDefPoint(1.5,\h){C}
            % Ajouter des étiquettes
            \tkzLabelPoints[below left](A)
            \tkzLabelPoints[below right](B)
            \tkzLabelPoints[above](C)
            %
            \tkzDefPoint(0,\h){D}
            \tkzDefPoint(\b,\h){E}
            %
            % Calculer le pied de la hauteur depuis C sur AB
            \tkzDefPointBy[projection=onto A--B](C) \tkzGetPoint{H}
            \tkzLabelPoints[below](H)
            %
            \draw[dotted, very thick, fill = red, fill opacity = 0.2] (A) -- (D) -- (E) -- (B);
            \draw[pattern={north east lines}, pattern color = blue, opacity = 0.7] (A) -- (B) -- (C) -- cycle;
            \draw[very thick] (A) -- (B) -- (C) -- cycle;
            \draw[dashed, very thick] (C) -- (H);
            % \draw[pattern={Lines[angle=45,distance={3pt/sqrt(2)}]},pattern color=blue] (0,1) rectangle +(1,1);
            \tkzLabelSegment[right](C,H){$h$}
            \tkzLabelSegment[below](A,B){$b$}
            \tkzMarkRightAngle[blue](C,H,A)
        }
    }{
        \begin{align*}
            \color{Red}\A\color{black} = b \times h = 2 \times \color{Blue}\A\color{black}\\
        \end{align*}
    }
}

\subsection{Théorèmes}

\thm{de Pythagore}{
    Soit un triangle $ABC$ rectangle en $A$, on a:
    \begin{equation*}
        BC^2 = AB^2 + AC^2
    \end{equation*}
}

\demo{}{
    \def\a{3}
    \def\b{2}
    \def\s{\a+\b}
    \def\defpoints{
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(\s,0){B}
        \tkzDefPoint(\s,\s){C}
        \tkzDefPoint(0,\s){D}
        \tkzDefPoint(\b,0){Ab}
        \tkzDefPoint(\s,\b){Bb}
        \tkzDefPoint(\a,\s){Cb}
        \tkzDefPoint(0,\a){Db}
    }
    \def\drawSquare{\draw[very thick] (A) -- (B) -- (C) -- (D) -- cycle;}
    \dividePage{
        \ctikz{
            \defpoints
            \drawArea (A) -- (Ab) -- (Db);
            \drawArea (B) -- (Bb) -- (Ab);
            \drawArea (C) -- (Cb) -- (Bb);
            \drawArea (D) -- (Db) -- (Cb);
            \draw[dotted, thick] (Ab) -- (Bb) -- (Cb) -- (Db) -- cycle;
            \drawSquare
            \tkzMarkSegment[blue,pos=.5,mark=|](A,Ab)
            \tkzMarkSegment[blue,pos=.5,mark=|](B,Bb)
            \tkzMarkSegment[blue,pos=.5,mark=|](C,Cb)
            \tkzMarkSegment[blue,pos=.5,mark=|](D,Db)
            \tkzMarkSegment[blue,pos=.5,mark=o](A,Db)
            \tkzMarkSegment[blue,pos=.5,mark=o](B,Ab)
            \tkzMarkSegment[blue,pos=.5,mark=o](C,Bb)
            \tkzMarkSegment[blue,pos=.5,mark=o](D,Cb)
            \tkzLabelSegment[left](A,Db){$a$}
            \tkzLabelSegment[left](D,Db){$b$}
            \tkzLabelSegment[above right](Db,Ab){$c$}
        }
    }{%
        \ctikz{
            \defpoints
            \tkzDefPoint(\b,\a){Ac}
            \tkzDefPoint(\b,\s){Dq}
            \tkzDefPoint(\s,\a){Cq}
            \drawArea (A) -- (Ab) -- (Db);
            \drawArea (Ac) -- (Ab) -- (Db);
            \drawArea (C) -- (Dq) -- (Cq);
            \drawArea (Ac) -- (Dq) -- (Cq);
            \draw[dotted, thick] (Db) -- (Cq);
            \draw[dotted, thick] (Ab) -- (Dq);
            \draw[dotted, thick] (Ab) -- (Db);
            \draw[dotted, thick] (Dq) -- (Cq);
            \drawSquare
            % \tkzMarkSegment[blue,pos=.5,mark=|](A,Ab)
            \tkzMarkSegment[blue,pos=.5,mark=|](Db,Ac)
            \tkzMarkSegment[blue,pos=.5,mark=|](Dq,Ac)
            % \tkzMarkSegment[blue,pos=.5,mark=|](C,Cq)
            % \tkzMarkSegment[blue,pos=.5,mark=o](A,Db)
            \tkzMarkSegment[blue,pos=.5,mark=o](Ab,Ac)
            \tkzMarkSegment[blue,pos=.5,mark=o](Ac,Cq)
            % \tkzMarkSegment[blue,pos=.5,mark=o](Dq,C)
        }
    }
}

\pr{partage de la Médiane}{
    Une médiane d'un triangle partage ce triangle en deux triangles d'aires égales. 
}[\href{https://www.apmep.fr/IMG/pdf/S\_e9rie\_1-4_D\_e9montrer\_avec\_des\_aires\_-\_Copie.pdf}{Mathématique et mathématiciens}]

\demo{}{
    \dividePage{
        \begin{center}
            \begin{tikzpicture}[scale=1]
                % Définir les points du triangle
                \tkzDefPoint(0,0){A}
                \tkzDefPoint(4,0){B}
                \tkzDefPoint(1.5,2){C}
                \tkzDefMidPoint(A,B) \tkzGetPoint{D}
                % Ajouter des étiquettes
                \tkzLabelPoints[below left](A)
                \tkzLabelPoints[below right](B)
                \tkzLabelPoints[above](C)
                % Marquer le point médian
                \tkzDrawPoints(D)
                \tkzLabelPoints[below](D)
                % Calculer le pied de la hauteur depuis C sur AB
                \tkzDefPointBy[projection=onto A--B](C) \tkzGetPoint{H}
                \tkzLabelPoints[below](H)
                \drawArea (A) -- (C) -- (D) -- cycle;
                \drawArea[red] (C) -- (D) -- (B) -- cycle;
                \draw[very thick] (A) -- (B) -- (C) -- cycle;
                \draw[dotted, very thick] (C) -- (D);
                \draw[dashed, very thick] (C) -- (H);
                \tkzMarkSegment[blue,pos=.5,mark=|](A,D)
                \tkzMarkSegment[blue,pos=.5,mark=|](D,B)
                \tkzMarkRightAngle[blue](C,H,A)
            \end{tikzpicture}
        \end{center}
    }{
        \begin{align*}
            \color{Blue}\A\color{black} &= \frac{AD \times CH }{2}\\
            &= \frac{BD \times CH }{2} = \color{Red}\A\color{black}
        \end{align*}
    }
}

% \pr{des proportions}{

% }

% \thm{du chevron}{
%     Soit $N$ point dans intérieur au triangle $ABC$ et $A'$ intersection des droites $(AN)$ et $(BC)$.\\
%     On a :\begin{align*}
%         \frac{\A_{ANB}}{\A_{ANC}} = \frac{BA'}{CA'}
%     \end{align*}
% }

% \demo{}{
%     \TODO
% }

\subsection{Dichotomie périmètre et aire}

\act{Curvica}{
    Une figure peut avoir une aire plus petite qu'une autre figure mais tous de même avoir un périmètre plus grand et vice-versa.
}[\href{https://www.educmat.fr/categories/jeux_reflexion/fiches_jeux/curvica/index.php}{éducmat}]

\rmk{Aire finie et périmètre infini}{
    Certaines figures ont une aire finie et un périmètre infini (ex: \href{https://mathcurve.com/fractals/koch/koch.shtml}{Flocon de Koch}).
}[\href{https://mathcurve.com/fractals/koch/koch.shtml}{Robert FERRÉOL}]

\section{Le cercle et le disque}

\subsection{La Circonférence}

\df{Circonférence}{
    La \textbf{circonférence} (\C) est la longueur d'un cercle.
}

\df{Constante d'Archimède (Pi)}{
    $\pi$ est le rapport de la circonférence d'un cercle à son diamètre.
    \begin{equation*}
        \pi \approx 3,141592653589793
    \end{equation*}
}

\mthd{d'Archimède (Approximation de Pi)}{
    On encadre $\pi$ par le demi périmètres de polygones réguliers inscrits et circonscrits à un cercle de rayon $1$.
    \href{https://www.geogebra.org/m/yqhfdqgg}{$\rightarrow$ Activité géogebra}
}

\demo{}{
    A l'étape $n\in[3,+\infty]$ on note $a_n$ l'angle des $2n$ triangles rectangles ayant pour sommet le centre du cercle,
    $i_n$ et $c_n$ les côtés des polygones inscrits et circonscrits
    et $U_n$ et $V_n$ les périmètres des polygones inscrits et circonscrits.
    On a:
    \begin{align*}
        a_n &= \frac{360}{2n} = \frac{180}{n}\\
        \ior \sin(a_n) &= \frac{\textrm{opposé}}{\textrm{hypothénus}}
        = \frac{i_n / 2}{\textrm{rayon}}
        = \frac{i_n / 2}{\textrm{1}}
        = \frac{i_n}{2}\\
        \iet \tan(a_n) &= \frac{\textrm{opposé}}{\textrm{adjacent}}
        = \frac{c_n / 2}{\textrm{rayon}}
        = \frac{c_n / 2}{\textrm{1}}
        = \frac{c_n}{2}
        \ior U_n &= n \times i_n = 2 n \sin(a_n)
        \iet V_n &= n \times c_n = 2 n \tan(a_n)
        \ior \frac{U_n}{2} &\leqslant \pi \leqslant \frac{V_n}{2}
        \ialors n \sin(\frac{180}{n}) &\leqslant \pi \leqslant n \tan(\frac{180}{n})
    \end{align*}
}[\href{https://weblaperouse.ac-noumea.nc/IMG/pdf/9-tpe-approximation-archimede.pdf}{Rodrigue LEBAILLY et Romain LEROY}]

\rmk{Formule de la circonférence}{
    On a alors la circonférence d'un cercle de rayon $r$ : $\mathcal{C} = 2 \pi r$.
}

\pr{Longueur d'arc}{
    \def\angle{30} % Define the angle size
    \def\r{4}
    \ctikz{
        \tkzDefPoint(0,0){A}
        \tkzDefPoint(\r,0){B}
        \tkzDefShiftPoint[A](\angle:\r){C} % Adjust the angle for gamma and the length for side 'c'
        \draw[very thick] (B)--(A)--(C);
        \tkzDrawArc[Blue](A,B)(C) % Draw arc from B to C centered at A
        % %
        \tkzMarkAngle[Red,size=0.7cm,opacity=1](B,A,C) % Mark angle BAC
        \tkzLabelAngle[Red, pos=1](B,A,C){$\theta$} % Label angle BAC
        % %
        \tkzLabelSegment[below](A,B){$r$} % Label segment AB as r
        \tkzLabelArc[Blue, right](A,B,C){$r\theta$} % Label the arc from B to C as rθ
    }
}

\demo{}{
    L'arc est une section $\frac{\theta}{2\pi}$ de la circonférence.\\
    Alors la longueur d'arc est: $2\pi r \times \frac{\theta}{2\pi} = r \theta$.
}

\subsection{Aire du disque}

\act{Approximation aire du disque}{}

\mthd{de Monte-Carlo (Approximation de l'aire du disque)}{
    \begin{algorithm}[H]
        \KwData{$r\in\m{R} \et N\in\m{N}$}
        \KwRes{approximations de l'aire du cercle de rayon $r$.}
        $c \leftarrow 2r$
        On considère une figure constiué d'un carré de côté $c$ dans lequel on place en son centre un cercle de rayon $r$\;
        $n \leftarrow 0$\;
        \Pr{$i$ de $0$ à $N$}{
            Prendre un point $A$ au hasard dans le carré\;
            \Si{$A$ est dans le cercle}{$n \leftarrow n+1$\;}
        }
        \KwRet{$\frac{n}{N} \times c^2$}\;
    \end{algorithm}
}[\href{http://pedagogie.ac-limoges.fr/maths/IMG/pdf/manipulation_aire_disque_methode_de_monte-carlo.pdf}{Académie de limoge}]

\tice{Méthode de Monte-Carlo}{Python}{
    \lstinputlisting[language=Python]{ressources/lecons-capes/17/monte-carlo.py}
}

\pr{Aire du disque}{
    L'aire d'un disque de rayon $r$ : $\A = \pi r^2$.
}

\demo{d'Archimède}{
    On découpe un disque en $n\in\m{N}$ secteurs circulaires équivalents.
    En regroupant les secteurs têtes bèches,
    accolé par leur côté rectiligne,
    on obtient une figure d'aire égale.\\
    Quand $n \rightarrow \infty$,
    la figure devient un rectangle,
    on note sa longueur $L$ et sa largeur $l$.\\
    On a:
    \begin{align*}
        \A &= l \times L\\
        \ior 2L = \C &\et L = r\\
        \ialors \A &= \frac{\C}{2} \times r
        = \frac{2\pi r}{2} \times r
        = \pi r^2
    \end{align*}
}[\href{https://blog.maths-en-vrac.fr/2018/07/30/laire-dun-disque-facon-archimede/}{Damien Bouloc}]

\demo{avec une intégrale}{%
    \def\r{4}
    \def\angle{1}
    \def\x{\r * sin(\angle)}
    \def\y{\r * cos(\angle)}
    \dividePage{%
        \ctikz{
            \axis{5}
            \tkzDefPoint(0,0){O}
            \tkzDefPoint(\r,0){A}
            \tkzDefPoint(\x,\y){P}
            \tkzDefPoint(\x,0){X}
            \tkzDefPoint(0,\y){Y}
            \drawArea (A) arc (0:90:\r) -- (O) -- cycle ;
            \draw[thick] (O) -- (P);
            \draw[dashed] (P) -- (X) node[below]{$x$};
            \draw[dashed] (P) -- (Y) node[left]{$y$};
            \tkzLabelSegment[below right](O,P){$r$}
        }
    }{%
        Par le théorème de Pythagore:
        \begin{align*}
            y &= \sqrt{r^2-x^2}\\
            \shortintertext{on pose} f &: x \mapsto \sqrt{r^2-x^2}\\
            \iona \A &= 4 \int_{0}^{r} f(x)dx
            % \ior \sqrt{r^2-x^2} &= r \sqrt{1 - \frac{x^2}{r^2}}\\
            % \shortintertext{et par changement de variable} u = \frac{x}{r} \alors dx = rdu\\
            % \iona 
        \end{align*}
    }
}[\href{https://www.mathweb.fr/euclide/2019/05/18/pourquoi-laire-dun-disque-est-egale-a-pi-r2/}{mathweb.fr}]

\section{Mesures de l'espace}

\subsection{Aire latérale}

\df{Aire latérales}{
    L'\textbf{aire latérale} \A{} d'un solide est la surface délimitant privée de ses bases.
}

\rmk{Aire totale}{
    Il faut distingué l'aire latérale de l'\textbf{aire totale} qui elle prend en compte aussi les bases du solide.
}

\subsection{Contenance}

\df{Contenance}{
    La \textbf{contenance} d'un solide est la mesure de quantité de liquide qui peut être contenue dans ce dernier. 
}

\df{Unité de contenance}{
    L'\textbf{unité de contenance} usuelle est le mètre litre (\Lt)\\
    % 1 \mt{} correspond à la mesure d'espace d'un cube de côté 1 $\meter$.
}

\rmk{Unités de contenance consécutives}{
    Deux unités de contenance consécutives sont 10 fois plus grande ou petites les unes par rapport aux autres.
}

\subsection{Volume}

\df{Unité de volume}{
    L'\textbf{unité de volume} usuelle est le mètre cube (\mt)\\
    1 \mt{} correspond à la mesure d'espace d'un cube de côté 1 $\meter$.
}

\df{Volume}{
    Le \textbf{volume} \V{} d'un solide est ca mesure d'espace, en comparaison \mt.
}

\rmk{3e problème de Hilbert}{
    On ne peut pas toujours découper et recoller un polyèdre en un autre polyèdre de même aire.
}[\href{https://fr.wikipedia.org/wiki/Probl\%C3\%A8mes\_de\_Hilbert}{Wikipedia}]

\rmk{Unités de volume consécutives}{
    Deux unités de volume consécutives sont 1000 fois plus grande ou petites les unes par rapport aux autres.
}

\rmk{Conversion contenance et volume}{
    On a : $1\Lt = 1\deci\md$.
}

\subsection{Cube et pavé droit}

\pr{Aire et volume du pavé droit}{
    Pour un pavé droit de longueur $L$,
    largeur $l$ et hauteur $h$,
    on a:
    \begin{align*}
        \A &= h \times 2 (L+l)\\
        \V &= h \times L \times l
    \end{align*}
}

\cor{Aire et volume du cube}{
    Pour un cube de côté $a$.
    on a:
    \begin{align*}
        \A &= 4a^2\\
        \V &= a^3
    \end{align*}
}

\subsection{Prisme et cylindre}

\pr{Aire et volume du prisme et du cylindre}{
    Pour un prisme ou cylindre de hauteur $h$,
    de base d'aire \B{} et périmètre \Per{},
    on a:
    \begin{align*}
        \A &= \Per \times h\\
        \V &= \B \times h
    \end{align*}
}

\subsection{Pyramide et cône}

\pr{Aire et volume de la pyramide et du cône}{
    Pour une pyramide ou cône de hauteur $h$,
    de base d'aire \B{} et périmètre \Per{},
    on a:
    \begin{align*}
        \V &= \frac{\B \times h}{3}
    \end{align*}
}

\demo{}{
    L'intersection d'un plan parallèle au plan de la base avec le solide (pyramide ou cône) à une hauteur $t\in[0;h]$,
    a une aire $\B_t = \B \frac{(h-t)^2}{h^2}$ (homothétie de rapport $\frac{(h-t)}{h}$).
    On a alors:
    \begin{align*}
        \V &= \int_{0}^{h} \B_t dt\\ 
        &= \int_{0}^{h} \B \frac{(h-t)^2}{h^2} dt = \frac{\B}{h^2} \int_{0}^{h} (h-t)^2 dt\\
        &= \frac{\B}{h^2} \int_{h}^{0} u^2 (-du) \textrm{par changement de variable} u = h-t \et \alors du = -dt\\
        &= \frac{\B}{h^2} \int_{0}^{h} u^2 du = \frac{\B}{h^2} \times h^3 = \frac{\B \times h}{3}
    \end{align*}
}[\href{https://www.unige.ch/semainedesmaths/files/2715/0347/5030/PO-Le_volume_de_la_pyramide.pdf}{Université de Genève}]

\subsection{Sphère}

\pr{Aire et volume d'une sphère}{
    L'aire \A{} et le volume \V{} d'une shère de rayon $R$ sont donnée par le formules :
    \begin{align*}
        \A = 4\pi R^2\\
        \V = \frac{4\pi R^3}{3}
    \end{align*}
    % \begin{tikzpicture}
    %     \def\r{3}
    %     \shade[ball color = gray!40, opacity = 0.4] (0,0) circle (\r);
    %     \draw (0,0) circle (\r);
    %     \draw (-\r,0) arc (180:360:3 and 0.6);
    %     \draw[dashed] (\r,0) arc (0:180:3 and 0.6);
    %     \fill[fill=black] (0,0) circle (1pt);
    %     \draw[dashed] (0,0 ) -- node[above]{$r$} (\r,0);
    % \end{tikzpicture}
}

\demo{}{
    Considérons les coordonnées sphériques $(r, \theta, \phi)$ où $r$ est le rayon, $\theta$ est l'angle azimutal, et $\varphi$ est l'angle polaire.
    Les relations entre les coordonnées cartésiennes et sphériques sont:
    \begin{align*}
        \lfbrace{x &= r\cos(\theta)\sin(\varphi)\\
        y &= r\sin(\theta)\sin(\varphi)\\
        z &= r\cos(\theta)}
    \end{align*}
    L'élément d'aire d'un cercle découpe de la sphère est donnée par :
    $dxdy = d\mathcal{S} = r dr d\theta$ par la formule de longueur d'arc
    \begin{center}
        \def\angle{30} % Define the angle size
        \def\r{4}
        \def\dr{\r*0.75}
        \begin{tikzpicture}
            \tkzDefPoint(0,0){A}
            \tkzDefPoint(\r,0){B}
            \tkzDefPoint(\dr,0){R}
            \tkzDefShiftPoint[A](\angle:\r){C} 
            \tkzDefShiftPoint[A](\angle:\dr){c} 
            \draw[very thick] (B)--(A)--(C);
            \tkzDrawArc(A,B)(C) % Draw arc from B to C centered at A
            \tkzDrawArc(A,R)(c) % Draw arc from B to C centered at A
            % %
            \tkzMarkAngle[size=0.7cm,opacity=1](B,A,C) % Mark angle BAC
            \tkzLabelAngle[pos=1](B,A,C){$d\theta$} % Label angle BAC
            % %
            \tkzLabelSegment[above](A,C){$r$} 
            \tkzLabelSegment[Red][below](R,B){$dr$}
            \tkzLabelArc[right](A,B,C){$rd\theta$} % Label the arc from B to C as rθ
            \drawArea[red] (B) arc (0:30:\r) -- (c) arc (30:0:\dr) -- cycle;
            \node[Red] at (barycentric cs:B=1,C=1,c=0.75,R=0.75) {$d\mathcal{S}$};
            \draw[Red] (R) -- (B);
        \end{tikzpicture}
    \end{center}
    On peut alors trouvé l'élément de volume de la sphère :
    \begin{align*}
        dxdydz = d\V &= r dr d\theta dz\\
        \ior z &= r\cos(\theta)\\
        \idou dz &= r\sin(\varphi) d\varphi\\
        \ialors d\V &= r^2 \sin(\varphi) dr d\theta d\varphi\\
        \ialors \A &= \int_{0}^{2\pi} \int_{0}^{\pi} R^2 \sin(\varphi) d\varphi d\theta\\
        &= \int_{0}^{2\pi} 2R^2 d\theta
        = 4\pi R^2\\
        \iet \V &= \int_{0}^{R} 4\pi r^2 dr
        = \frac{4\pi R^3}{3}
    \end{align*}
}

\section{Aire sous la courbe}

\hint{
    Soit $f$, fonction continue et positive sur $[a,b]$ et \C{} sa courbe représentative.
}

\df{Aire sous la courbe}{
    L'\textbf{aire sous la courbe} sur $[a,b]$ est l'aire du domaine délimité par;
    l'axe des abscisses, la courbe \C{} et les droites d'équation $x=a$ et $x=b$.\\
    On note $\int_{a}^{b}f(x)dx$ et appelle \textbf{intégrale} de $f$ entre $a$ et $b$ cette aire. 
}[\cbmath]

\mthd{Approximation d'une aire par l'utilisation de suites adjacentes}{
    \def\s{\frac{b-a}{n}}
    Soit $u,v$ deux suites adjacentes tels que pour $n\in\m{N}$:\\
    \begin{align*}
        u_n = \s \sum_{k=0}^{n} f(a+k \s) \;&\et\; v_n = \s \sum_{k=1}^{n} f(a+k \s)\\
        \ona \; \int_{a}^{b} f(x) dx &\in [u_n,v_n]
    \end{align*}
    \href{https://www.geogebra.org/m/bhmjfjhs}{$\rightarrow$ Activité géogebra}
}

\pr{Relation de Chalses}{
    Soit $c\in[a,b]$, on a:
    \begin{equation*}
        \int_{a}^{b}f(x)dx = \int_{a}^{c}f(x)dx + \int_{c}^{b}f(x)dx
    \end{equation*}
}

\demo{}{
    Additivité des aires
}

\section{Déterminants dans le plan}

\hint{
    Soit deux vecteurs \u et \v.
}

\df{Parallélogramme engendré par deux vecteurs}{
    Le \textbf{parallélogramme engendré} par \u et \v est:
    \begin{equation*}
        \{\alpha\u + \beta\v | \alpha,\beta\in[0,1]\}
    \end{equation*}
}

\pr{Aire de parallélogramme engendré}{
    Le parallélogramme engendré par \u et \v a pour aire : $\A = \det(\u,\v)$.
}

\demo{}{
    % Definition of vectors
    \def\xu{3.5}
    \def\yu{1}
    \def\xv{1.25}
    \def\yv{3}
    %
    \def\defvectors{% Origin point
        \coordinate (O) at (0,0);
        %
        % Define endpoints of vectors
        \coordinate (U) at (\xu,\yu);
        \coordinate (V) at (\xv,\yv);
        \coordinate (UV) at ($(\xu,\yu) + (\xv,\yv)$); % Endpoint of u+v
    }
    \def\drawvectors{% Draw vectors
        \draw[-{Stealth[length=3mm]}, thick] (O) -- (U) node[midway, below] {\u};
        \draw[-{Stealth[length=3mm]}, thick] (O) -- (V) node[midway, left] {\v};
        \draw[-{Stealth[length=3mm]}, thick, dashed] (U) -- (UV);
        \draw[-{Stealth[length=3mm]}, thick, dashed] (V) -- (UV);
        %
        % Nodes for vector components on axes
        \node at (\xu, 0) [below] {$x_u$};
        \node at (\xv, 0) [below] {$x_v$};
        \node at (0, \yu) [left] {$y_u$};
        \node at (0, \yv) [left] {$y_v$};
        %
        % Adding ticks for the components
        \draw (\xu,0.1) -- (\xu,-0.1);
        \draw (\xv,0.1) -- (\xv,-0.1);
        \draw (0.1,\yu) -- (-0.1,\yu);
        \draw (0.1,\yv) -- (-0.1,\yv);
    }
    \begin{center}
        \begin{tikzpicture}
            \axis{4}
            \defvectors
            \drawArea (O) -- (U) -- (UV) -- (V) -- cycle;
            \drawvectors
        \end{tikzpicture}
        % \begin{tikzpicture}
        %     \axis{4}
        %     \defvectors
        %     \coordinate (UVb) at (\xu + \xv,\yv);
        %     \coordinate (Ub) at (\xu,0);
        %     \fill[blue, opacity=0.2] (O) -- (Ub) -- (UVb) -- (V) -- cycle;
        %     \drawvectors
        % \end{tikzpicture}
        \begin{tikzpicture}
            \axis{4}
            \defvectors
            \coordinate (Ob) at (0,\yu);
            \coordinate (Ot) at (\xv,\yu);
            \coordinate (Oq) at (\xv,0);
            \coordinate (UVb) at (\xu,\yv);
            \coordinate (Ub) at (\xu,0);
            \coordinate (Vb) at (0,\yv);
            \drawArea (Ob) -- (Ot) -- (Oq) -- (Ub) -- (UVb) -- (Vb) -- cycle;
            \drawvectors
        \end{tikzpicture}
    \end{center}
}[\href{http://www.rozenblum.com/determinant-de-deux-vecteurs-et-aire-du-parallelogramme/}{Henry-Michel Rozenblum}]